parameters:
    github_owner: '%env(GITHUB_OWNER)%'
    github_repo: '%env(GITHUB_REPO)%'
    gitlab_owner: '%env(GITLAB_OWNER)%'
    gitlab_repo: '%env(GITLAB_REPO)%'
    bitbucket_owner: '%env(BITBUCKET_OWNER)%'
    bitbucket_repo: '%env(BITBUCKET_REPO)%'
    github_api_base_url: 'https://api.github.com'
    slack.bot_token: '%env(SLACK_BOT_TOKEN)%'
    slack.channel: '%env(SLACK_CHANNEL)%'
    slack.api_base_url: 'https://slack.com/api/'

imports:
    - { resource: '../src/RepoStatusBundle/Resources/config/services.yaml' }

services:
    _defaults:
        autowire: true
        autoconfigure: true
        bind:
            $owner: '%github_owner%'
            $repo: '%github_repo%'
            $baseUrl: '%github_api_base_url%'
            $slackBotToken: '%slack.bot_token%'
            $slackChannel: '%slack.channel%'
            $slackApiBaseUrl: '%slack.api_base_url%'

    App\:
        resource: '../src/*'
        exclude: '../src/{DependencyInjection,Entity,Migrations,Tests,Kernel.php}'

    App\Controller\:
        resource: '../src/Controller'
        tags: ['controller.service_arguments']
